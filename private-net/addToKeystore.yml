version: '2'

# Creates a New Account In ./keystore
# Scale to the Desired Number of Accounts
# Run with: docker-compose -f addToKeystore.yml up --scale accounts=3

services:
  accounts:
    build: 
      context: ..
      dockerfile: ./private-net/Dockerfile.preBuilt
    env_file: .env
    volumes: # Volume in the Password File
      - ./files/password.txt:/password.txt
      - ./keystore/:/root/.ethereum/keystore
    entrypoint: geth account new  --password /password.txt
  